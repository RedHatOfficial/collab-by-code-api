!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0}),o(n(2)).default.config();const s=r(n(3)),i=o(n(1));i.default.Promise=global.Promise;const u=o(n(4)),p=o(n(5));t.app=u.default(),t.app.set("port",process.env.PORT||process.env.OPENSHIFT_NODEJS_PORT||8080),t.app.set("ip",process.env.IP||process.env.OPENSHIFT_NODEJS_IP||"0.0.0.0"),t.app.use(p.default.json()),t.app.set("dbHost",process.env.DB_HOST),t.app.set("dbPort",process.env.DB_PORT),t.app.set("dbURL",s.format("mongodb://%s:%s",t.app.get("dbHost"),t.app.get("dbPort"))),t.app.set("dbName",process.env.DB_NAME),t.app.set("dbUser",process.env.DB_USER),t.app.set("dbUserPassword",process.env.DB_USER_PASSWORD),t.mongooseConn=i.default.connect(t.app.get("dbURL"),{dbName:t.app.get("dbName"),auth:{user:t.app.get("dbUser"),password:t.app.get("dbUserPassword")}}),n(6),n(8),t.mongooseConn.then(e=>{console.log(`\n  Connection with DB: "${t.app.get("dbURL")}" established successfully.`),t.app.listen(t.app.get("port"),()=>{console.log("\n  App is running at http://localhost:%d in %s mode.",t.app.get("port"),t.app.get("env")),console.log("\n  Press CTRL-C to stop\n")})}).catch(e=>console.log(e))},function(e,t){e.exports=require("mongoose")},function(e,t){e.exports=require("dotenv")},function(e,t){e.exports=require("util")},function(e,t){e.exports=require("express")},function(e,t){e.exports=require("body-parser")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(0),r=n(7);o.app.post("/api/questions",(e,t)=>{new r.Questions(e.body).save().then(e=>{t.contentType("json").status(201).send(e)},e=>{t.status(400).send(e)})}),o.app.get("/api/questions",(e,t)=>{r.Questions.find().then(e=>{t.contentType("json").status(200).send(e)},e=>{t.status(400).send(e)})})},function(e,t,n){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=o(n(1)),s=new r.default.Schema({index:{type:String,required:!0,minlength:1,maxlength:1,trim:!0},text:{type:String,required:!0,trim:!0},imageFrame:{type:String,minlength:5,trim:!0}}),i=new r.default.Schema({question:{type:String,required:!0,minlength:10,trim:!0},options:{type:[s],required:!0}}),u=new r.default.Schema({question:{type:String,required:!0,minlength:10,trim:!0},email:{type:String,required:!0,minlength:10,maxlength:75,trim:!0}});t.Questions=r.default.model("questions",i),t.UserQAns=r.default.model("user_qans",u)},function(e,t){}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC50cyIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJtb25nb29zZVwiIiwid2VicGFjazovLy9leHRlcm5hbCBcImRvdGVudlwiIiwid2VicGFjazovLy9leHRlcm5hbCBcInV0aWxcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJleHByZXNzXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiYm9keS1wYXJzZXJcIiIsIndlYnBhY2s6Ly8vLi9zcmMvYXBpL3F1ZXN0aW9ucy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWwvbW9kZWxzLnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiX19pbXBvcnREZWZhdWx0IiwiZGVmYXVsdCIsImNvbmZpZyIsInV0aWwiLCJfX2ltcG9ydFN0YXIiLCJtb25nb29zZV8xIiwiUHJvbWlzZSIsImdsb2JhbCIsImV4cHJlc3NfMSIsImJvZHlfcGFyc2VyXzEiLCJhcHAiLCJzZXQiLCJwcm9jZXNzIiwiZW52IiwiUE9SVCIsIk9QRU5TSElGVF9OT0RFSlNfUE9SVCIsIklQIiwiT1BFTlNISUZUX05PREVKU19JUCIsInVzZSIsImpzb24iLCJEQl9IT1NUIiwiREJfUE9SVCIsImZvcm1hdCIsIkRCX05BTUUiLCJEQl9VU0VSIiwiREJfVVNFUl9QQVNTV09SRCIsIm1vbmdvb3NlQ29ubiIsImNvbm5lY3QiLCJkYk5hbWUiLCJhdXRoIiwidXNlciIsInBhc3N3b3JkIiwidGhlbiIsImNvbm4iLCJjb25zb2xlIiwibG9nIiwibGlzdGVuIiwiY2F0Y2giLCJlcnIiLCJyZXF1aXJlIiwiYXBwXzEiLCJtb2RlbHNfMSIsInBvc3QiLCJyZXEiLCJyZXMiLCJRdWVzdGlvbnMiLCJib2R5Iiwic2F2ZSIsImRvYyIsImNvbnRlbnRUeXBlIiwic3RhdHVzIiwic2VuZCIsImZpbmQiLCJkb2NzIiwiT3B0aW9uIiwiU2NoZW1hIiwiaW5kZXgiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJtaW5sZW5ndGgiLCJtYXhsZW5ndGgiLCJ0cmltIiwidGV4dCIsImltYWdlRnJhbWUiLCJxdWVzdGlvbnNTY2hlbWEiLCJxdWVzdGlvbiIsIm9wdGlvbnMiLCJ1c2VyUWFuc1NjaGVtYSIsImVtYWlsIiwibW9kZWwiLCJVc2VyUUFucyJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBQUEsS0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxJQUNBRyxFQUFBSCxFQUNBSSxHQUFBLEVBQ0FILFlBVUEsT0FOQUksRUFBQUwsR0FBQU0sS0FBQUosRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUYsR0FHQUcsRUFBQUUsR0FBQSxFQUdBRixFQUFBRCxRQUtBRixFQUFBUSxFQUFBRixFQUdBTixFQUFBUyxFQUFBVixFQUdBQyxFQUFBVSxFQUFBLFNBQUFSLEVBQUFTLEVBQUFDLEdBQ0FaLEVBQUFhLEVBQUFYLEVBQUFTLElBQ0FHLE9BQUFDLGVBQUFiLEVBQUFTLEdBQTBDSyxZQUFBLEVBQUFDLElBQUFMLEtBSzFDWixFQUFBa0IsRUFBQSxTQUFBaEIsR0FDQSxvQkFBQWlCLGVBQUFDLGFBQ0FOLE9BQUFDLGVBQUFiLEVBQUFpQixPQUFBQyxhQUF3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LEVBQ1ZDLFVBQVcsR0FDWEMsVUFBVyxHQUNYQyxNQUFNLEtBSUdoRyxFQUFBK0UsVUFBWXhDLEVBQUFKLFFBQVNxRSxNQUFNLFlBQWFMLEdBQ3hDbkcsRUFBQXlHLFNBQVdsRSxFQUFBSixRQUFTcUUsTUFBTSxZQUFhRiIsImZpbGUiOiJpbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcbiIsIlxuaW1wb3J0IGVudiBmcm9tICdkb3RlbnYnO1xuZW52LmNvbmZpZygpO1xuXG5pbXBvcnQgKiBhcyB1dGlsIGZyb20gJ3V0aWwnO1xuXG5pbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xubW9uZ29vc2UuUHJvbWlzZSA9IGdsb2JhbC5Qcm9taXNlO1xuXG5pbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcbmltcG9ydCBib2R5UGFyc2VyIGZyb20gJ2JvZHktcGFyc2VyJztcblxuLy9TZXQgdXAgZXhwcmVzc1xuZXhwb3J0IGNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcbmFwcC5zZXQoXCJwb3J0XCIsIHByb2Nlc3MuZW52LlBPUlQgfHwgcHJvY2Vzcy5lbnYuT1BFTlNISUZUX05PREVKU19QT1JUIHx8IDgwODApO1xuYXBwLnNldChcImlwXCIsIHByb2Nlc3MuZW52LklQIHx8IHByb2Nlc3MuZW52Lk9QRU5TSElGVF9OT0RFSlNfSVAgfHwgJzAuMC4wLjAnKTtcblxuLy9NaWRkbHdhcmVcbmFwcC51c2UoYm9keVBhcnNlci5qc29uKCkpO1xuXG4vL0FwcCBDb25maWdcbmFwcC5zZXQoJ2RiSG9zdCcsIHByb2Nlc3MuZW52LkRCX0hPU1QpO1xuYXBwLnNldCgnZGJQb3J0JywgcHJvY2Vzcy5lbnYuREJfUE9SVCk7XG5hcHAuc2V0KCdkYlVSTCcsICB1dGlsLmZvcm1hdChcIm1vbmdvZGI6Ly8lczolc1wiLCBhcHAuZ2V0KCdkYkhvc3QnKSwgYXBwLmdldCgnZGJQb3J0JykpKTtcbmFwcC5zZXQoJ2RiTmFtZScsIHByb2Nlc3MuZW52LkRCX05BTUUpO1xuYXBwLnNldCgnZGJVc2VyJywgcHJvY2Vzcy5lbnYuREJfVVNFUik7XG5hcHAuc2V0KCdkYlVzZXJQYXNzd29yZCcsIHByb2Nlc3MuZW52LkRCX1VTRVJfUEFTU1dPUkQpO1xuXG5leHBvcnQgY29uc3QgbW9uZ29vc2VDb25uID0gbW9uZ29vc2UuY29ubmVjdChhcHAuZ2V0KCdkYlVSTCcpLCB7XG4gIGRiTmFtZTogYXBwLmdldCgnZGJOYW1lJyksXG4gIGF1dGg6IHtcbiAgICB1c2VyOiBhcHAuZ2V0KCdkYlVzZXInKSxcbiAgICBwYXNzd29yZDogYXBwLmdldCgnZGJVc2VyUGFzc3dvcmQnKVxuICB9XG59KTtcblxuLy9RdWVzdGlvbnMgcm91dGVzXG5pbXBvcnQgJy4vYXBpL3F1ZXN0aW9ucyc7XG5cbi8vUXVpeiByb3V0ZXNcbmltcG9ydCAnLi9hcGkvcXVpeic7XG5cbi8vU3RhcnQgdGhlIHNlcnZlclxubW9uZ29vc2VDb25uLnRoZW4oKGNvbm4pID0+IHtcbiAgY29uc29sZS5sb2coYFxcbiAgQ29ubmVjdGlvbiB3aXRoIERCOiBcIiR7YXBwLmdldCgnZGJVUkwnKX1cIiBlc3RhYmxpc2hlZCBzdWNjZXNzZnVsbHkuYCk7XG4gIGFwcC5saXN0ZW4oYXBwLmdldChcInBvcnRcIiksICgpID0+IHtcbiAgICBjb25zb2xlLmxvZyhcbiAgICAgIFwiXFxuICBBcHAgaXMgcnVubmluZyBhdCBodHRwOi8vbG9jYWxob3N0OiVkIGluICVzIG1vZGUuXCIsXG4gICAgICBhcHAuZ2V0KFwicG9ydFwiKSxcbiAgICAgIGFwcC5nZXQoXCJlbnZcIilcbiAgICApO1xuICAgIGNvbnNvbGUubG9nKFwiXFxuICBQcmVzcyBDVFJMLUMgdG8gc3RvcFxcblwiKTtcbiAgfSk7XG59KS5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJtb25nb29zZVwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJkb3RlbnZcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwidXRpbFwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJleHByZXNzXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImJvZHktcGFyc2VyXCIpOyIsImltcG9ydCB7IFJlcXVlc3QsIFJlc3BvbnNlIH0gZnJvbSAnZXhwcmVzcyc7XG5cbmltcG9ydCB7IGFwcCB9IGZyb20gJy4uL2FwcCc7XG5pbXBvcnQgeyBRdWVzdGlvbnMgfSBmcm9tICcuLi9tb2RlbC9tb2RlbHMnO1xuXG4vL1NhdmUgTmV3IFF1ZXN0aW9uXG5hcHAucG9zdCgnL2FwaS9xdWVzdGlvbnMnLCAocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlKSA9PiB7XG4gIGNvbnN0IGRhdGEgPSBuZXcgUXVlc3Rpb25zKHJlcS5ib2R5KTtcbiAgZGF0YS5zYXZlKCkudGhlbigoZG9jKSA9PiB7XG4gICAgcmVzXG4gICAgICAuY29udGVudFR5cGUoJ2pzb24nKVxuICAgICAgLnN0YXR1cygyMDEpXG4gICAgICAuc2VuZChkb2MpO1xuICB9LCAoZXJyKSA9PiB7XG4gICAgcmVzXG4gICAgICAuc3RhdHVzKDQwMClcbiAgICAgIC5zZW5kKGVycik7XG4gIH0pO1xufSk7XG5cbi8vR2V0IGFsbCBxdWVzdGlvbnNcbmFwcC5nZXQoJy9hcGkvcXVlc3Rpb25zJywgKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSkgPT4ge1xuICBRdWVzdGlvbnMuZmluZCgpLnRoZW4oKGRvY3MpID0+IHtcbiAgICByZXNcbiAgICAgIC5jb250ZW50VHlwZSgnanNvbicpXG4gICAgICAuc3RhdHVzKDIwMClcbiAgICAgIC5zZW5kKGRvY3MpO1xuICB9LCAoZXJyKSA9PiB7XG4gICAgcmVzXG4gICAgICAuc3RhdHVzKDQwMClcbiAgICAgIC5zZW5kKGVycik7XG4gIH0pO1xufSk7IiwiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcblxuY29uc3QgT3B0aW9uID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XG4gICBpbmRleDoge1xuICAgICB0eXBlOiBTdHJpbmcsXG4gICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICBtaW5sZW5ndGg6IDEsXG4gICAgIG1heGxlbmd0aDogMSxcbiAgICAgdHJpbTogdHJ1ZVxuICAgfSxcbiAgIHRleHQ6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgdHJpbTogdHJ1ZVxuICAgfSxcbiAgIGltYWdlRnJhbWU6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgbWlubGVuZ3RoOiA1LFxuICAgIHRyaW06IHRydWVcbiAgIH0sXG59KTtcblxuY29uc3QgcXVlc3Rpb25zU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XG4gIHF1ZXN0aW9uOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgIG1pbmxlbmd0aDogMTAsXG4gICAgdHJpbTogdHJ1ZVxuICB9LFxuICBvcHRpb25zOiB7XG4gICAgdHlwZTogW09wdGlvbl0sXG4gICAgcmVxdWlyZWQ6IHRydWVcbiAgfVxufSk7XG5cbmNvbnN0IHVzZXJRYW5zU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XG4gIHF1ZXN0aW9uOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgIG1pbmxlbmd0aDogMTAsXG4gICAgdHJpbTogdHJ1ZVxuICB9LFxuICBlbWFpbDoge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICBtaW5sZW5ndGg6IDEwLFxuICAgIG1heGxlbmd0aDogNzUsXG4gICAgdHJpbTogdHJ1ZVxuICB9XG59KTtcblxuZXhwb3J0IGNvbnN0IFF1ZXN0aW9ucyA9IG1vbmdvb3NlLm1vZGVsKCdxdWVzdGlvbnMnLCBxdWVzdGlvbnNTY2hlbWEpO1xuZXhwb3J0IGNvbnN0IFVzZXJRQW5zID0gbW9uZ29vc2UubW9kZWwoJ3VzZXJfcWFucycsIHVzZXJRYW5zU2NoZW1hKTsiXSwic291cmNlUm9vdCI6IiJ9